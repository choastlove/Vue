<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>vue异步操作Dom</title>
        <script src="js/vue.min.js"></script>

    </head>
    <body>
       <!--  <div id="app">
            {{message}}
        </div>
          <script>
            var app=new Vue({
                el:'#app',
                data:{
                    message:'123'
                }
            })
            //更新数据
            app.message="new message"
            app.$el.textContent==="new message"
            Vue.nextTick(function(){
                app.$el.textContent==="new message"
            })
        </script> -->
       <div id="app">
            <tr v-for="book in books ">
                <td>{{books.id}}</td>
                <td>{{books.name}}</td>
                <td>{{books.author}}</td>
                <td>{{books.price}}</td>
            </tr>
       </div>
        <div id="add-book">
             <legend>添加书籍</legend>
             <div class="form-group">
              <label for="">书名</label>
              <input type="text" class="form-control" v-model="book.name">
             </div>
             <div class="form-group">
               <label for="">作者</label>
               <input type="text" class="form-control" v-model="book.author">
             </div>
             <div class="form-group">
                 <label for="">价格</label>
                 <input type="text" class="form-control" v-model="book.price">
              </div>
              <button class="btn btn-primary btn-block" v-on:click="addBook()">添加</button>
        </div>
        <script>
            var app=new Vue({
                el: '#app',
                data:function(){
                    return{
                     book:{
                    id: 0,
                    author: '',
                    name: '',
                    price: ''
                    },
                    books: [{
                        id: 1,
                        author: '曹雪芹',
                        name: '红楼梦',
                        price: 32.0
                    },
                    {
                        id: 2,
                        author: '施耐庵',
                        name: '水浒传',
                        price: 30.0
                    },
                    {
                        id: '3',
                        author: '罗贯中',
                        name: '三国演义',
                        price: 24.0
                    },
                    {
                        id: 4,
                        author: '吴承恩',
                        name: '西游记',
                        price: 20.0
                    }]
                    }
                }
         })
        var addBook=new Vue({
            el:"#add-book",
            methods: {
                addBook: function() {
                    //计算书的id

                    this.books.id = this.books.length + 1;
                    console.log("添加成功");
                    this.books.push(this.book);
                    //将input中的数据重置
                    this.books = '';
                }
            }
        })
        </script>
    </body>
</html>